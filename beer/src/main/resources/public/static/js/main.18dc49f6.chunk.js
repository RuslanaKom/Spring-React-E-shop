(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=(a(91),a(28),a(13)),i=a(14),s=a(16),m=a(15),u=a(17),p=a(159),d=a(158),h={1:a(57),2:a(58),3:a(59),4:a(60),5:a(61)},E=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{src:h[e.image],alt:"Beer",width:"110px"})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h5",null,e.name),r.a.createElement("p",null,e.description),r.a.createElement("p",null,e.categoryName),r.a.createElement("p",null,"Price: ",e.price," Eur."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(d.a,{to:"/"},r.a.createElement(p.a,null,"Back")))))},f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={id:0,name:"",description:"",price:0,image:"",categoryName:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.searchName;fetch("/beer/"+t).then(function(e){return e.json()}).then(function(t){return e.setState({name:t.name,description:t.description,price:t.price,image:t.imagePath,categoryName:t.category.categoryName})})}},{key:"render",value:function(){return r.a.createElement(E,{name:this.state.name,description:this.state.description,price:this.state.price,image:this.state.image,categoryName:this.state.categoryName})}}]),t}(r.a.Component),g=a(25),v={1:a(57),2:a(58),3:a(59),4:a(60),5:a(61)},y=function(e){return r.a.createElement("div",{className:"container col-md-3"},r.a.createElement("img",{src:v[e.beer.imagePath],alt:"Beer",width:"100px"}),r.a.createElement("h5",null,e.beer.name),r.a.createElement("p",null,"Price: ",e.beer.price," Eur."),r.a.createElement(d.a,{to:"/beer/"+e.beer.name},r.a.createElement(p.a,null,"Details")),r.a.createElement(p.a,{onClick:e.handleClick.bind(void 0,e.beer)}," Buy"))},b=a(160),C=a(172),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a.state={categorySelected:"",categories:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({categorySelected:e.target.value}),this.props.updateSearchCategory(e.target.value)}},{key:"componentDidMount",value:function(){var e=this;fetch("/categories").then(function(e){return e.json()}).then(function(t){return e.setState({categories:t})})}},{key:"render",value:function(){var e=this.state.categories.map(function(e,t){return r.a.createElement("option",{value:e.categoryName,key:t},e.categoryName)});return r.a.createElement("div",{className:"d-inline col-md-3 pull-right"},r.a.createElement(b.a,{controlId:"formControlsSelect"},r.a.createElement(C.a,{componentClass:"select",placeholder:"Category",type:"text",value:this.state.categorySelected,onChange:this.handleChange},r.a.createElement("option",{value:""},"All Categories"),e)))}}]),t}(r.a.Component),O=a(161),k=a(173),N=a(162),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={products:[],totalPrice:0,quantity:0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/cart").then(function(e){return e.json()}).then(function(t){e.setState({products:t.cart,totalPrice:t.totalSum})})}},{key:"componentWillReceiveProps",value:function(){var e=this;fetch("/cart").then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({products:t.cart,totalPrice:t.totalSum})})}},{key:"render",value:function(){var e=0;this.state.products&&(e=this.state.products.reduce(function(e,t){return e+t.quantity},0));var t=r.a.createElement(O.a,{id:"tooltip"},this.state.totalPrice.toFixed(2)," Eur.");return r.a.createElement("div",{className:"d-inline col-md-1 pull-right"},r.a.createElement(k.a,{placement:"bottom",overlay:t},r.a.createElement(d.a,{to:"/cart"},r.a.createElement("span",{className:"glyphicon glyphicon-shopping-cart"}))),r.a.createElement(N.a,null,e," "))}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).updateCategory=function(e){a.setState({searchCategory:e})},a.state={beers:[],searchCategory:"",beerToCart:""},a.updateCategory=a.updateCategory,a.handleClick=a.handleClick.bind(Object(g.a)(Object(g.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/beers").then(function(e){return e.json()}).then(function(t){return e.setState({beers:t})})}},{key:"handleClick",value:function(e){this.setState({beerToCart:e}),fetch("/puttocart",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"render",value:function(){var e=this,t=this.state.beers.filter(function(t){return""===e.state.searchCategory||t.category.categoryName===e.state.searchCategory}).map(function(t,a){return r.a.createElement(y,{key:a,beer:t,handleClick:e.handleClick})});return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(w,{passedVal:this.state.beerToCart}),r.a.createElement(j,{updateSearchCategory:this.updateCategory})),r.a.createElement("div",{className:"row"},t))}}]),t}(r.a.Component),x=a(171),P=a(163),D=a(164),B=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=r.a.createElement(x.a,{inverse:!0,collapseOnSelect:!0},r.a.createElement(x.a.Header,null,r.a.createElement(x.a.Brand,null,r.a.createElement("a",{href:"/"},"BeerShop"))),r.a.createElement(P.a,null,r.a.createElement(D.a,{eventKey:1,href:"/"},r.a.createElement(d.a,{to:"/"},"Products")),r.a.createElement(D.a,{eventKey:2},r.a.createElement(d.a,{to:"/contacts"},"Contacts"))),r.a.createElement(P.a,{pullRight:!0},r.a.createElement(D.a,null)));return r.a.createElement("div",null,e)}}]),t}(r.a.Component),T=a(165),M=a(166),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleClearClick=function(){fetch("/clearCart"),a.getData()},a.handleRemoveClick=function(e){console.log("trying to remove"),fetch("/removefromcart",{method:"post",headers:{"Content-Type":"application/json"},body:e}),a.getData()},a.state={products:[],totalPrice:0},a.getData=a.getData,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;fetch("/cart").then(function(e){return e.json()}).then(function(t){e.setState({products:t.cart,totalPrice:Math.abs(t.totalSum)})})}},{key:"render",value:function(){var e=this,t=this.state.products.map(function(t,a){return r.a.createElement("tr",null,r.a.createElement("td",null,a+1,". "),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.price," Eur"),r.a.createElement("td",null,t.quantity," pcs."),r.a.createElement("td",null,r.a.createElement(p.a,{onClick:e.handleRemoveClick.bind(e,t.name)},r.a.createElement("span",{class:"glyphicon glyphicon-trash"}))))}),a=r.a.createElement(T.a,{id:"popover-positioned-top",title:"Order"},"Your order for ",this.state.totalPrice.toFixed(2)," Eur is placed.");return r.a.createElement("div",{className:"col-md-5 static-modal"},r.a.createElement(M.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Unit price"),r.a.createElement("th",null,"Quantity"))),r.a.createElement("tbody",null,t,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,"Total: "),r.a.createElement("td",null,this.state.totalPrice.toFixed(2)," Eur")))),r.a.createElement(k.a,{trigger:"click",rootClose:!0,placement:"top",overlay:a},r.a.createElement(p.a,{disabled:this.state.totalPrice<.01}," Confirm Order")),r.a.createElement(p.a,{disabled:this.state.totalPrice<.01,onClick:this.handleClearClick},"Clear Cart"))}}]),t}(r.a.Component),W=a(83),q=a.n(W),F=a(167),I=a(168),J=a(169),K=a(170),A=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=r.a.createElement(T.a,{id:"popover-positioned-top",title:"Thank you!"},"Your message was sucessfully ignored!"),t=r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"margins"},r.a.createElement("h2",null,r.a.createElement(I.a,null,"Happy Grasshopper"))),r.a.createElement(J.a,{src:q.a,circle:!0,width:"140px"}))),r.a.createElement("div",{className:"text-center col-md-4 col-md-offset-4"},r.a.createElement(b.a,{controlId:"formControlsTextarea"},r.a.createElement(K.a,null,"Contact us"),r.a.createElement(C.a,{componentClass:"textarea",placeholder:"Please fill in the form"})),r.a.createElement(k.a,{trigger:"click",rootClose:!0,placement:"top",overlay:e},r.a.createElement(p.a,{type:"submit"},"Submit"))));return r.a.createElement("div",null,t)}}]),t}(r.a.Component),H=function(e){return r.a.createElement("footer",{className:"app-footer text-white bg-dark"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 2018 Copyright: Ruslana Komaristova"))};n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(174),G=a(176),Q=a(175);l.a.render(r.a.createElement(Y.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(B,null),r.a.createElement(G.a,null,r.a.createElement(Q.a,{exact:!0,path:"/",component:S}),r.a.createElement(Q.a,{path:"/beer/:searchName",component:f}),r.a.createElement(Q.a,{path:"/cart",component:R}),r.a.createElement(Q.a,{exact:!0,path:"/contacts",component:A})),r.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},28:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/1.4b14979d.png"},58:function(e,t,a){e.exports=a.p+"static/media/2.f8f43835.png"},59:function(e,t,a){e.exports=a.p+"static/media/3.bf9620ad.png"},60:function(e,t,a){e.exports=a.p+"static/media/4.e7bc14d5.png"},61:function(e,t,a){e.exports=a.p+"static/media/5.fef1cb8e.png"},83:function(e,t,a){e.exports=a.p+"static/media/c.5cef2451.jpg"},85:function(e,t,a){e.exports=a(157)},91:function(e,t,a){}},[[85,2,1]]]);
//# sourceMappingURL=main.18dc49f6.chunk.js.map